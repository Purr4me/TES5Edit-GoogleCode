#summary Records covered in current TES5Dump-SVN

= Introduction =

In order to assure accuracy of TES5Edit I'm releasing complied versions of TES5Dump.  It will not correctly decode all of Skyrim's Records.  The records that have been roughly decoded will be listed below.

= Current TES5Dump-SVN =

TES5Dump-SVN108.exe

You can make a small plugin in the CK to use with TES5Dump.  Use the following Syntax:

<code>TES5Dump "Your Plugin.esp" > "Your Plugin.txt" 2> "Dumplog.txt"</code>

You can also use Update.esm or Skyrim.esm to look for anything that might have been missed.  The example would dump only the COBJ record.

<code>TES5Dump -dg:COBJ "Skyrim.esm" > "TES5Skyrim.txt" 2> "Dumplog.txt"</code>

The Dumplog.txt will capture the console messages.  You can review it for errors.

= Localization Strings =

With Skyrim comes some new string handling.  Skyrim_English.DLSTRINGS, Skyrim_English.ILSTRINGS, Skyrim_English.STRINGS contain all the strings and Skyrim.esm and Update.esm.  In place of the actuall strings there are pointers to the strings contained in those files.  If you run dump on Skyrim.esm, Update.esm all you will see are unusual characters where a string should be.  If you run Dump on a plugin you have created it may or may not have the correct string.  Some strings are saved directly into the plugin.  I suspect, only strings that have changed are saved.  If the string is unaltered then I believe that the CK saves a pointer to the localization files.  For now ignore the names of things and consider it a know issue.  There is no way to correctly display the strings with the current code in Dump.  New routines will have to be created for both Dump and TES5Edit to utilize the new strings files.

This affects any Quest text, Dialogue, and so on.  It does not seem to apply to scripts.

= Records covered by the current revision =

== GMST ==

wbGMSTUnionDecider needs to be defined to handle the values for DATA.

*ID* field defined in {Byte 23-24} of record header. (wbMainRecordHeader)

|| *Id* || *Tag* || *Name* || *Type/Size* || *Info* ||
|| 0 || b || boolean || bool || ||
|| 0 || i || int || int32 || ||
|| 0 || f || float || float || ||
|| 2 || s/S || string || lstring || Under investigation. Suspected Localization Pointer ||

== KYWD ==

Not enough properties that require additional review.

== LCRT ==

Not enough properties that require additional review.

== AACT ==

Not enough properties that require additional review.

== DODT - Decal Data for TXST ==

<code>
  Sample DODT
  DODT - Unknown:
    {00}    00 00 00 41 1 Min Width
    {05}    00 00 00 42 2 Max Width
    {09}    00 00 00 41 3 Min Height
    {13}    00 00 00 42 4 Max Height
    {17}    00 00 00 42 5 Depth
    {21}    00 00 80 40 6 Shininess
            ------------Parallax-----
    {25}    00 00 80 3F 7 Scale
    {29}    04            Passes  {This can't be higher than 30}
            -------------------------
    {30}       00         Flags
                  32 30   <-- Not Sure
    {31}    FF FF FF 00   Color
</code>

Bytes 29 and 30 seem to be decoded correctly until you look at a texture for an NPC_ or Interior.

== TXST ==

OBND and unknown flags in DODT are not set in the Texture Panel shown below.

https://skyrim-plugin-decoding-project.googlecode.com/svn/wiki/wikipics/DecodeTXST.jpg

== GLOB ==

Values for FLTV may need a wbGLOBUnionDecider.

== FACT ==

More definitions added.  Location reference (shown below) can be set from the Vendor tab when editing the Faction.  Curently the CTDA information needs to be updated to Skyrim's exact syntax.  I will revise this further after I finish some rough decoding of other records.

https://skyrim-plugin-decoding-project.googlecode.com/svn/wiki/wikipics/DecodeFACTLocation.jpg

== MGEF ==

Has only rough definition. Check later for an update.

== COBJ ==

FULL Not displayed correctly after names.  FULL needs to be updated.

Has only rough definition for CNAM, BNAM, and NAM1 if dumped list FormIDs for CNAM and BNAM, and use of NAM1.

CTDA - Needs review not defined correctly.

== NPC_ ==

Rough Definition of NPC_ flags definitions incorrect. Needs Review.

== LVLN ==

FormID References need updated.
COED might need reviewing.

== LVLI ==

FormID References need updated.
Flags correct.

== LVSP ==

FormID References need updated.

== WTHR ==

Has only rough definition. Check later for an update.

== CONT ==

Has only rough definition. Check later for an update.

== MATO ==

Has only rough definition. Check later for an update.

== CLFM ==

Defined.
